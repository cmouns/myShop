{% extends 'base.html.twig' %}

{% block title %}Liste des sous-catégories{% endblock %}

{% block body %}
<div class="container">
    <h1>Liste des sous-catégories</h1>

    <table class="table">
        <thead>
            <tr>
                <th>Id</th>
                <th>Nom</th>
                <th>Slug</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for subCategory in subCategories %}
                {% if subCategory.slug is not empty %}
                    <tr>
                        <td>{{ subCategory.id }}</td>
                        <td>{{ subCategory.name }}</td>
                        <td>{{ subCategory.slug }}</td>
                        <td>
                            {# Lien pour voir la sous-catégorie #}
                            <a href="{{ path('app_sub_category_show', {
                                'category_slug': subCategory.category.slug,
                                'sub_category_slug': subCategory.slug
                            }) }}" class="btn btn-primary btn-sm">Voir</a>

                            {# Lien pour éditer la sous-catégorie #}
                            <a href="{{ path('app_sub_category_edit', {
                                'category_slug': subCategory.category.slug,
                                'sub_category_slug': subCategory.slug
                            }) }}" class="btn btn-secondary btn-sm">Éditer</a>

                            {# Formulaire pour supprimer #}
                            {{ include('sub_category/_delete_form.html.twig', {'sub_category': subCategory}) }}
                        </td>
                    </tr>
                {% endif %}
            {% endfor %}
        </tbody>
    </table>

    <a href="{{ path('app_sub_category_new') }}" class="btn btn-success">Ajouter une sous-catégorie</a>
</div>
{% endblock %}
